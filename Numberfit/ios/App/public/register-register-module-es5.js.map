<<<<<<< HEAD
{"version":3,"sources":["webpack:///src/app/register/register.page.html","webpack:///src/app/register/register-routing.module.ts","webpack:///src/app/register/register.module.ts","webpack:///src/app/register/register.page.scss","webpack:///src/app/register/register.page.ts"],"names":["routes","path","component","RegisterPageRoutingModule","imports","forChild","exports","RegisterPageModule","declarations","RegisterPage","nativeStorage","router","formBuilder","registerFormGroup","group","name","required","email","password1","password2","year","school","yearGroups","schoolList","schoolSelect","document","getElementById","DOM","value","credentials","username","toLowerCase","password","hashStr","console","log","length","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","cookie","JSON","parse","responseText","success","setItem","then","navigate","error","open","setRequestHeader","send","stringify","alert","selector","template"],"mappings":"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","file":"register-register-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <meta charset=\\\"UTF-8\\\">\\n  <ion-toolbar>\\n    <ion-title><img class=\\\"header-image\\\" src=\\\"/assets/NumberfitLogo.png\\\"/></ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-content\\\">\\n  <ion-card class=\\\"welcome-card\\\">\\n    <ion-card-header>\\n      <ion-title class=\\\"welcome-card-title\\\">Register New Account</ion-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <form [formGroup]=\\\"registerFormGroup\\\" action = \\\"http://localhost:3000/register\\\" method = \\\"GET\\\">\\n        <ion-item style=\\\"margin-top: 20px;\\\">\\n          <ion-label position=\\\"floating\\\">Name</ion-label>\\n          <ion-input formControlName=\\\"name\\\"></ion-input>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Email</ion-label>\\n          <ion-input formControlName=\\\"email\\\" type=\\\"email\\\"></ion-input>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Password</ion-label>\\n          <ion-input formControlName=\\\"password1\\\" type='password'></ion-input>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Comfirm Password</ion-label>\\n          <ion-input formControlName=\\\"password2\\\" type='password'></ion-input>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label>Year Group</ion-label>\\n          <ion-select\\n            formControlName=\\\"year\\\" multiple=\\\"false\\\"\\n            cancelText=\\\"Cancel\\\" okText=\\\"Select\\\" >\\n            <ion-select-option *ngFor=\\\"let year of yearGroups\\\" value={{year}}>\\n              {{year}}\\n            </ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label>School</ion-label>\\n          <ion-select\\n            formControlName=\\\"school\\\" id=\\\"schoolSelect\\\"\\n            multiple=\\\"false\\\" cancelText=\\\"Cancel\\\" okText=\\\"Select\\\">\\n            <ion-select-option *ngFor=\\\"let school of schoolList\\\" value={{school}}>\\n              {{school}}\\n            </ion-select-option>\\n\\n          </ion-select>\\n        </ion-item>\\n        <br>\\n        <ion-button\\n          (click)=\\\"register()\\\" [disabled]=\\\"registerFormGroup.invalid\\\"\\n          expand='block'>\\n          Register\\n      </ion-button>\\n      </form>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegisterPage } from './register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegisterPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegisterPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegisterPageRoutingModule } from './register-routing.module';\n\nimport { RegisterPage } from './register.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RegisterPageRoutingModule\n  ],\n  declarations: [RegisterPage]\n})\nexport class RegisterPageModule {}\n","export default \":root {\\n  --ion-safe-area-top: 20px;\\n  --ion-safe-area-bottom: 22px;\\n}\\n\\n.center {\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW1lcy9naXRodWIvTnVtYmVyZml0L051bWJlcmZpdC9zcmMvYXBwL3JlZ2lzdGVyL3JlZ2lzdGVyLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQUE7RUFDQSw0QkFBQTtBQ0NGOztBRENBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtBQ0VGIiwiZmlsZSI6InNyYy9hcHAvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOnJvb3Qge1xuICAtLWlvbi1zYWZlLWFyZWEtdG9wOiAyMHB4O1xuICAtLWlvbi1zYWZlLWFyZWEtYm90dG9tOiAyMnB4O1xufVxuLmNlbnRlciB7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG4iLCI6cm9vdCB7XG4gIC0taW9uLXNhZmUtYXJlYS10b3A6IDIwcHg7XG4gIC0taW9uLXNhZmUtYXJlYS1ib3R0b206IDIycHg7XG59XG5cbi5jZW50ZXIge1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Md5 } from 'ts-md5/dist/md5';\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\n\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.page.html',\n  styleUrls: ['./register.page.scss'],\n})\nexport class RegisterPage implements OnInit {\n  registerFormGroup: FormGroup;\n  yearGroups: Array<string>;\n  schoolList: Array<string>;\n\n  constructor(\n    private nativeStorage: NativeStorage,\n    private router: Router,\n    formBuilder: FormBuilder\n  ) {\n    this.registerFormGroup = formBuilder.group({\n      name: [\"\", [Validators.required]],\n      email: [\"\", [Validators.required, Validators.email]],\n      password1: [\"\", [Validators.required]],\n      password2: [\"\", [Validators.required]],\n      year: [\"\", [Validators.required]],\n      school: [\"\", [Validators.required]],\n    });\n    this.yearGroups = ['Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5', 'Year 6'];\n    this.schoolList = ['UCL', 'LSE', 'Imperial'];\n  }\n\n  ngOnInit() {\n    // get the schools from the DB\n    let schoolSelect = document.getElementById(\"schoolSelect\");\n  }\n\n  register(){\n    const DOM = this;\n\n    const password1 = this.registerFormGroup.value.password1;\n    const password2 = this.registerFormGroup.value.password2;\n\n    const credentials = {\n      username : this.registerFormGroup.value.email.toLowerCase(),\n      password : Md5.hashStr(password1),\n      name     : this.registerFormGroup.value.name,\n      year     : this.registerFormGroup.value.year,\n      school   : this.registerFormGroup.value.school\n    };\n\n    console.log(credentials);\n\n    if(password1==password2 && password1.length > 7){\n      var xhttp = new XMLHttpRequest();\n\n      xhttp.onreadystatechange = function() {\n        if (this.readyState == 4 && this.status == 200) {\n          const cookie = JSON.parse(this.responseText).success\n          console.log(cookie);\n          DOM.nativeStorage.setItem('cookie', {cookie: cookie})\n          .then(\n            () => DOM.router.navigate(['/play']),\n            error => console.error('Error storing item', error)\n          );\n        } else if(this.status != 200) {\n          console.log(this.responseText);\n\n        }\n      };\n\n      xhttp.open('POST', 'http://localhost:3000/register?', true);\n      xhttp.setRequestHeader(\"Content-type\", \"application/json\");\n      xhttp.send(JSON.stringify(credentials));\n\n    } else{\n      // error!!!\n      alert(\"Please ensure your password is at least 8 characters and matches the confirmation field\");\n    }\n\n  }\n\n}\n"]}
=======
{"version":3,"sources":["webpack:///src/app/register/register.page.html","webpack:///src/app/register/register-routing.module.ts","webpack:///src/app/register/register.module.ts","webpack:///src/app/register/register.page.scss","webpack:///src/app/register/register.page.ts"],"names":["routes","path","component","RegisterPageRoutingModule","imports","forChild","exports","RegisterPageModule","declarations","RegisterPage","router","formBuilder","registerFormGroup","group","name","required","email","password1","password2","year","school","yearGroups","schoolList","schoolSelect","document","getElementById","DOM","value","credentials","username","toLowerCase","password","hashStr","console","log","length","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","cookie","JSON","parse","responseText","success","navigate","open","setRequestHeader","send","stringify","alert","selector","template"],"mappings":"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","file":"register-register-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <meta charset=\\\"UTF-8\\\">\\n  <ion-toolbar>\\n    <ion-title><img class=\\\"header-image\\\" src=\\\"/assets/NumberfitLogo.png\\\"/></ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-content\\\">\\n  <ion-card class=\\\"welcome-card\\\">\\n    <ion-card-header>\\n      <ion-title class=\\\"welcome-card-title\\\">Register New Account</ion-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <form [formGroup]=\\\"registerFormGroup\\\" action = \\\"http://localhost:3000/register\\\" method = \\\"GET\\\">\\n        <ion-item style=\\\"margin-top: 20px;\\\">\\n          <ion-label position=\\\"floating\\\">Name</ion-label>\\n          <ion-input formControlName=\\\"name\\\"></ion-input>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Email</ion-label>\\n          <ion-input formControlName=\\\"email\\\" type=\\\"email\\\"></ion-input>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Password</ion-label>\\n          <ion-input formControlName=\\\"password1\\\" type='password'></ion-input>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Comfirm Password</ion-label>\\n          <ion-input formControlName=\\\"password2\\\" type='password'></ion-input>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label>Year Group</ion-label>\\n          <ion-select\\n            formControlName=\\\"year\\\" multiple=\\\"false\\\"\\n            cancelText=\\\"Cancel\\\" okText=\\\"Select\\\" >\\n            <ion-select-option *ngFor=\\\"let year of yearGroups\\\" value={{year}}>\\n              {{year}}\\n            </ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label>School</ion-label>\\n          <ion-select\\n            formControlName=\\\"school\\\" id=\\\"schoolSelect\\\"\\n            multiple=\\\"false\\\" cancelText=\\\"Cancel\\\" okText=\\\"Select\\\">\\n            <ion-select-option *ngFor=\\\"let school of schoolList\\\" value={{school}}>\\n              {{school}}\\n            </ion-select-option>\\n\\n          </ion-select>\\n        </ion-item>\\n        <br>\\n        <ion-button\\n          (click)=\\\"register()\\\" [disabled]=\\\"registerFormGroup.invalid\\\"\\n          expand='block'>\\n          Register\\n      </ion-button>\\n      </form>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegisterPage } from './register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegisterPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegisterPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegisterPageRoutingModule } from './register-routing.module';\n\nimport { RegisterPage } from './register.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RegisterPageRoutingModule\n  ],\n  declarations: [RegisterPage]\n})\nexport class RegisterPageModule {}\n","export default \":root {\\n  --ion-safe-area-top: 20px;\\n  --ion-safe-area-bottom: 22px;\\n}\\n\\n.center {\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW1lcy9naXRodWIvTnVtYmVyZml0L051bWJlcmZpdC9zcmMvYXBwL3JlZ2lzdGVyL3JlZ2lzdGVyLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQUE7RUFDQSw0QkFBQTtBQ0NGOztBRENBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtBQ0VGIiwiZmlsZSI6InNyYy9hcHAvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOnJvb3Qge1xuICAtLWlvbi1zYWZlLWFyZWEtdG9wOiAyMHB4O1xuICAtLWlvbi1zYWZlLWFyZWEtYm90dG9tOiAyMnB4O1xufVxuLmNlbnRlciB7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG4iLCI6cm9vdCB7XG4gIC0taW9uLXNhZmUtYXJlYS10b3A6IDIwcHg7XG4gIC0taW9uLXNhZmUtYXJlYS1ib3R0b206IDIycHg7XG59XG5cbi5jZW50ZXIge1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Md5 } from 'ts-md5/dist/md5';\n\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.page.html',\n  styleUrls: ['./register.page.scss'],\n})\nexport class RegisterPage implements OnInit {\n  registerFormGroup: FormGroup;\n  yearGroups: Array<string>;\n  schoolList: Array<string>;\n\n  constructor(\n    private router: Router,\n    formBuilder: FormBuilder\n  ) {\n    this.registerFormGroup = formBuilder.group({\n      name: [\"\", [Validators.required]],\n      email: [\"\", [Validators.required, Validators.email]],\n      password1: [\"\", [Validators.required]],\n      password2: [\"\", [Validators.required]],\n      year: [\"\", [Validators.required]],\n      school: [\"\", [Validators.required]],\n    });\n    this.yearGroups = ['Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5', 'Year 6'];\n    this.schoolList = ['UCL', 'LSE', 'Imperial'];\n  }\n\n  ngOnInit() {\n    // get the schools from the DB\n    let schoolSelect = document.getElementById(\"schoolSelect\");\n  }\n\n  register(){\n    const DOM = this;\n\n    const password1 = this.registerFormGroup.value.password1;\n    const password2 = this.registerFormGroup.value.password2;\n\n    const credentials = {\n      username : this.registerFormGroup.value.email.toLowerCase(),\n      password : Md5.hashStr(password1),\n      name     : this.registerFormGroup.value.name,\n      year     : this.registerFormGroup.value.year,\n      school   : this.registerFormGroup.value.school\n    };\n    \n    console.log(credentials);\n\n    if(password1==password2 && password1.length > 7){\n      var xhttp = new XMLHttpRequest();\n\n      xhttp.onreadystatechange = function() {\n        if (this.readyState == 4 && this.status == 200) {\n          const cookie = JSON.parse(this.responseText).success\n          console.log(cookie);\n          DOM.router.navigate(['/play', cookie]);\n        } else if(this.status != 200) {\n          console.log(this.responseText);\n\n        }\n      };\n\n      xhttp.open('POST', 'http://localhost:3000/register?', true);\n      xhttp.setRequestHeader(\"Content-type\", \"application/json\");\n      xhttp.send(JSON.stringify(credentials));\n\n    } else{\n      // error!!!\n      alert(\"Please ensure your password is at least 8 characters and matches the confirmation field\");\n    }\n\n  }\n\n}\n"]}
>>>>>>> save-cookie
