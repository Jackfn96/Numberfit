{"version":3,"sources":["webpack:///src/app/register/register.page.html","webpack:///src/app/register/register-routing.module.ts","webpack:///src/app/register/register.module.ts","webpack:///src/app/register/register.page.scss","webpack:///src/app/register/register.page.ts"],"names":["routes","path","component","RegisterPageRoutingModule","imports","forChild","exports","RegisterPageModule","declarations","RegisterPage","router","formBuilder","registerFormGroup","group","name","required","email","password1","password2","year","school","schoolSelect","document","getElementById","DOM","value","length","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","responseText","navigate","alert","console","log","open","send","selector","template"],"mappings":"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","file":"register-register-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <meta charset=\\\"UTF-8\\\">\\n  <ion-toolbar>\\n    <ion-title><img class=\\\"header-image\\\" src=\\\"/assets/NumberfitLogo.png\\\"/></ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-content\\\">\\n  <ion-card class=\\\"welcome-card\\\">\\n    <ion-card-header>\\n      <ion-title class=\\\"welcome-card-title\\\">Register New Account</ion-title>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <form [formGroup]=\\\"registerFormGroup\\\" action = \\\"http://localhost:3000/register\\\" method = \\\"GET\\\">\\n        <ion-item style=\\\"margin-top: 20px;\\\">\\n          <ion-label position=\\\"floating\\\">Name</ion-label>\\n          <ion-input formControlName=\\\"name\\\"></ion-input>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Email</ion-label>\\n          <ion-input formControlName=\\\"email\\\" type=\\\"email\\\"></ion-input>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Password</ion-label>\\n          <ion-input formControlName=\\\"password1\\\" type='password'></ion-input>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Comfirm Password</ion-label>\\n          <ion-input formControlName=\\\"password2\\\" type='password'></ion-input>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label>Year Group</ion-label>\\n          <ion-select\\n            formControlName=\\\"year\\\" multiple=\\\"false\\\"\\n            cancelText=\\\"Cancel\\\" okText=\\\"Select\\\">\\n            <ion-select-option value=\\\"Year 1\\\">Year 1</ion-select-option>\\n            <ion-select-option value=\\\"Year 2\\\">Year 2</ion-select-option>\\n            <ion-select-option value=\\\"Year 3\\\">Year 3</ion-select-option>\\n            <ion-select-option value=\\\"Year 4\\\">Year 4</ion-select-option>\\n            <ion-select-option value=\\\"Year 5\\\">Year 5</ion-select-option>\\n            <ion-select-option value=\\\"Year 6\\\">Year 6</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n        <br>\\n        <ion-item>\\n          <ion-label>School</ion-label>\\n          <ion-select\\n            formControlName=\\\"school\\\" id=\\\"schoolSelect\\\"\\n            multiple=\\\"false\\\" cancelText=\\\"Cancel\\\" okText=\\\"Select\\\">\\n            <ion-select-option value=\\\"Year 6\\\">Year 6</ion-select-option>\\n\\n          </ion-select>\\n        </ion-item>\\n        <br>\\n        <ion-button\\n          (click)=\\\"register()\\\" [disabled]=\\\"registerFormGroup.invalid\\\"\\n          expand='block' routerLink=\\\"../play\\\">\\n          Register\\n      </ion-button>\\n      </form>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegisterPage } from './register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegisterPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegisterPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegisterPageRoutingModule } from './register-routing.module';\n\nimport { RegisterPage } from './register.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RegisterPageRoutingModule\n  ],\n  declarations: [RegisterPage]\n})\nexport class RegisterPageModule {}\n","export default \":root {\\n  --ion-safe-area-top: 20px;\\n  --ion-safe-area-bottom: 22px;\\n}\\n\\n.center {\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW1lcy9naXRodWIvTnVtYmVyZml0L051bWJlcmZpdC9zcmMvYXBwL3JlZ2lzdGVyL3JlZ2lzdGVyLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQUE7RUFDQSw0QkFBQTtBQ0NGOztBRENBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtBQ0VGIiwiZmlsZSI6InNyYy9hcHAvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOnJvb3Qge1xuICAtLWlvbi1zYWZlLWFyZWEtdG9wOiAyMHB4O1xuICAtLWlvbi1zYWZlLWFyZWEtYm90dG9tOiAyMnB4O1xufVxuLmNlbnRlciB7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG4iLCI6cm9vdCB7XG4gIC0taW9uLXNhZmUtYXJlYS10b3A6IDIwcHg7XG4gIC0taW9uLXNhZmUtYXJlYS1ib3R0b206IDIycHg7XG59XG5cbi5jZW50ZXIge1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.page.html',\n  styleUrls: ['./register.page.scss'],\n})\nexport class RegisterPage implements OnInit {\n  registerFormGroup: FormGroup;\n\n  constructor(\n    private router: Router,\n    formBuilder: FormBuilder\n  ) {\n    this.registerFormGroup = formBuilder.group({\n      name: [\"\", [Validators.required]],\n      email: [\"\", [Validators.required, Validators.email]],\n      password1: [\"\", [Validators.required]],\n      password2: [\"\", [Validators.required]],\n      year: [\"\", [Validators.required]],\n      school: [\"\", [Validators.required]],\n    });\n  }\n\n  ngOnInit() {\n    let schoolSelect = document.getElementById(\"schoolSelect\");\n  }\n\n  register(){\n    const DOM = this;\n    const name = this.registerFormGroup.value.name;\n    const email = this.registerFormGroup.value.email;\n    const password1 = this.registerFormGroup.value.password1;\n    const password2 = this.registerFormGroup.value.password2;\n    const year = this.registerFormGroup.value.year;\n    const school = this.registerFormGroup.value.school;\n\n    if(password1==password2 && password1.length > 7){\n      var xhttp = new XMLHttpRequest();\n\n      xhttp.onreadystatechange = function() {\n        if (this.readyState == 4 && this.status == 200) {\n          if(this.responseText == \"OK\"){\n            DOM.router.navigate(['/'])\n          } else{\n            // Already registered or error\n            alert(this.responseText);\n          }\n        } else {\n          console.log(\"Returned status \" + this.status)\n        }\n      };\n\n      xhttp.open(\"GET\", \"http://localhost:3000/register?email=\"+email+\n      \"&school=\"+school+\n      \"&year=\"+year+\n      \"&teacher=Mrs-Wallace&fName=\"+name, true);\n      xhttp.send();\n\n    } else{\n      alert(\"Please ensure your password is at least 8 characters and matches the confirmation field\");\n    }\n\n  }\n\n}\n"]}