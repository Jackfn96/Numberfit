{"version":3,"sources":["src/app/leaderboard/leaderboard.page.html","src/app/leaderboard/leaderboard.module.ts","src/app/leaderboard/leaderboard.page.scss","src/app/leaderboard/leaderboard.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title><img src=\\\"/assets/NumberfitLogo.png\\\"/></ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-content\\\" id='students'>\\n    <ion-card>\\n      <ion-card-header>\\n        <ion-card-title class=\\\"welcome-card-title\\\">Leaderboard</ion-card-title>\\n      </ion-card-header>\\n\\n      <ion-card-content>\\n        <!-- <div align=\\\"center\\\">\\n          <h3 id=\\\"myScore\\\">My Score: {{points}} points</h3>\\n        </div> -->\\n        <ion-list *ngFor=\\\"let user of users; index as i\\\">\\n          <ion-item>\\n            <ion-label slot=\\\"start\\\">{{i+1}}</ion-label>\\n            <ion-label>{{user.name}}</ion-label>\\n            <ion-label slot=\\\"end\\\">{{user.score}} points</ion-label>\\n          </ion-item>\\n        </ion-list>\\n      </ion-card-content>\\n\\n    </ion-card>\\n  </ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './leaderboard.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \".welcome-card img {\\n  max-height: 35vh;\\n  overflow: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW1lcy9naXRodWIvTnVtYmVyZml0L051bWJlcmZpdC9zcmMvYXBwL2xlYWRlcmJvYXJkL2xlYWRlcmJvYXJkLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbGVhZGVyYm9hcmQvbGVhZGVyYm9hcmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbGVhZGVyYm9hcmQvbGVhZGVyYm9hcmQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLndlbGNvbWUtY2FyZCBpbWcge1xuICBtYXgtaGVpZ2h0OiAzNXZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuIiwiLndlbGNvbWUtY2FyZCBpbWcge1xuICBtYXgtaGVpZ2h0OiAzNXZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { NativeStorage }     from '@ionic-native/native-storage/ngx';\nimport { Router }            from '@angular/router';\nimport { HTTP }              from '@ionic-native/http/ngx';\n\n@Component({\n  selector    : 'app-leaderboard',\n  templateUrl : 'leaderboard.page.html',\n  styleUrls   : ['leaderboard.page.scss'],\n})\n\nexport class HomePage {\n  server : string = require('../config.json').server;\n  cookie : string;\n  user   : any;\n  users  : Array<Object>;\n  points : number = 0;\n\n  constructor(\n    private nativeStorage : NativeStorage,\n    private http          : HTTP,\n    private router        : Router,\n  ) {\n    // Get cookie from storage\n    this.nativeStorage.getItem('cookie')\n    .then((data) => {this.cookie = data.cookie});\n    // Get user\n    this.nativeStorage.getItem('user')\n    .then((data) => {\n      this.user = data\n      // this.points = data.points\n      console.log(this.user)\n\n      // Get top scores from given school\n      this.http.get(this.server+\"/leaderboard?school=\"+this.user.school+\"&cookie=\"+this.cookie,{},{})\n      .then(data => {\n        // Need to do a request which returns {user : [{user1...}]}\n        this.users = JSON.parse(data.data).scores;\n      })\n      .catch(error => {\n        console.log(\"status\", error.status);\n        console.log(\"error\", error.error);\n        this.router.navigate(['/play']);\n        this.presentAlert(\"Connection\",\"Error retrieving leaderboard.\")\n\n      });\n    });\n\n  }\n\n  presentAlert(header, msg) {\n    const alert = document.createElement('ion-alert');\n    alert.header = header;\n    alert.message = msg;\n    alert.buttons = ['OK'];\n    document.body.appendChild(alert);\n    alert.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"leaderboard-leaderboard-module-es5.js"}