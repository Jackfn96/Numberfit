{"version":3,"sources":["./src/app/leaderboard/leaderboard.page.html","./src/app/leaderboard/leaderboard.module.ts","./src/app/leaderboard/leaderboard.page.scss","./src/app/leaderboard/leaderboard.page.ts"],"names":[],"mappings":"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","file":"leaderboard-leaderboard-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title><img src=\\\"/assets/NumberfitLogo.png\\\"/></ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-content\\\" id='students'>\\n    <ion-card>\\n      <ion-card-header>\\n        <ion-card-title class=\\\"welcome-card-title\\\">Leaderboard</ion-card-title>\\n      </ion-card-header>\\n\\n      <ion-card-content>\\n        <div align=\\\"center\\\">\\n          <h3 id=\\\"myScore\\\">My Score: {{points}} points</h3>\\n        </div>\\n        <ion-list *ngFor=\\\"let user of users; index as i\\\">\\n          <ion-item>\\n            <ion-label slot=\\\"start\\\">{{i+1}}</ion-label>\\n            <ion-input value={{user.name}} readonly style=\\\"text-align: left;\\\"></ion-input>\\n            <ion-label slot=\\\"end\\\" style=\\\"text-align: left;\\\">{{user.score}}</ion-label>\\n          </ion-item>\\n        </ion-list>\\n      </ion-card-content>\\n\\n    </ion-card>\\n  </ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './leaderboard.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \".welcome-card img {\\n  max-height: 35vh;\\n  overflow: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW1lcy9naXRodWIvTnVtYmVyZml0L051bWJlcmZpdC9zcmMvYXBwL2xlYWRlcmJvYXJkL2xlYWRlcmJvYXJkLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbGVhZGVyYm9hcmQvbGVhZGVyYm9hcmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbGVhZGVyYm9hcmQvbGVhZGVyYm9hcmQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLndlbGNvbWUtY2FyZCBpbWcge1xuICBtYXgtaGVpZ2h0OiAzNXZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuIiwiLndlbGNvbWUtY2FyZCBpbWcge1xuICBtYXgtaGVpZ2h0OiAzNXZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation/ngx';\nimport { NativeStorage }     from '@ionic-native/native-storage/ngx';\nimport { Router }            from '@angular/router';\nimport { HTTP }              from '@ionic-native/http/ngx';\n\n@Component({\n  selector    : 'app-leaderboard',\n  templateUrl : 'leaderboard.page.html',\n  styleUrls   : ['leaderboard.page.scss'],\n})\n\nexport class HomePage {\n  server : string = require('../config.json').server;\n  cookie : string;\n  user   : any;\n  users  : Array<Object>;\n  points : number = 0;\n\n  constructor(\n    private screenOrientation : ScreenOrientation,\n    private nativeStorage     : NativeStorage,\n    private http              : HTTP,\n    private router            : Router,\n  ) {\n    // lock screen portrait\n    this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);\n    // Get cookie from storage\n    this.nativeStorage.getItem('cookie')\n    .then((data) => {this.cookie = data.cookie});\n    // Get user\n    this.nativeStorage.getItem('user')\n    .then((data) => {\n      this.user = data\n      this.points = data.points\n\n      if(this.user.teacher){\n        document.getElementById(\"myScore\").style.visibility = \"hidden\"\n      }\n\n      // Get top scores from given school\n      this.http.get(this.server+\"/leaderboard?school=\"+this.user.school+\"&cookie=\"+this.cookie,{},{})\n      .then(data => {\n        // Need to do a request which returns {user : [{user1...}]}\n        this.users = JSON.parse(data.data).scores;\n\n      })\n      .catch(error => {\n        console.log(\"status\", error.status);\n        console.log(\"error\", error.error);\n        this.router.navigate(['/play']);\n        this.presentAlert(\"Connection\",\"Error retrieving leaderboard.\")\n\n      });\n    });\n\n  }\n\n  presentAlert(header, msg) {\n    const alert = document.createElement('ion-alert');\n    alert.header = header;\n    alert.message = msg;\n    alert.buttons = ['OK'];\n    document.body.appendChild(alert);\n    alert.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}